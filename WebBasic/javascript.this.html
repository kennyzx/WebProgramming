<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>this in JavaScript</title>
    <link href="./css/jss.css" type="text/css" rel="stylesheet" />
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    <script>
        console.log(this.innerWidth);
        console.log("I'm evaluated in the initial global execution context!");

        setTimeout(function () {
            console.log("I'm NOT evaluated in the initial global execution context.");
        }, 10000);
    </script>
</head>
<body>
    <div>
        <a href="https://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work/3127440#3127440">
            How does the "this" keyword work?
        </a>
    </div>
    <div>
        <a href="https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback">
            How to access the correct 'this' inside a callback?
        </a>
    </div>
    
    <script>
        var me = {
            age: 33, name: "kennyzx", sayhello: function () {
                console.log('hello from ' + this.name);
            }
        };

        function myFun(con) {
            console.log('myFun calls me and is passed thisArg ' + this.name + ' at ' + con);
        }

        function Friend(age, name) {
            this.age = age;
            this.name = name;
        };

        function display(f) {
            console.log('My friend ' + f.name.toUpperCase() + ' is ' + f.age);
        };

        $(function () {
            console.log('ready');
            me.sayhello();
            var friend = new Friend(1, "mary");
            display(friend);

            myFun.call(me, new Date().toLocaleTimeString());
            myFun.apply(me, [new Date().toLocaleTimeString()]);
        });

    </script>
</body>
</html>